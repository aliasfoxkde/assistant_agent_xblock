<div class="voice-assistant-container">
    <!-- Main floating button -->
    <div class="voice-assistant-button" id="voice-assistant-button" aria-label="Voice Assistant">
        <i class="fa fa-microphone" aria-hidden="true"></i>
    </div>

    <!-- Expandable panel -->
    <div class="voice-assistant-panel" id="voice-assistant-panel">
        <div class="panel-header">
            <span class="panel-context-badge" id="context-badge">Current Section</span>
            <div class="panel-title">AI Assistant</div>
            <div class="panel-controls">
                <button id="history-button" aria-label="Conversation History">
                    <i class="fa fa-history" aria-hidden="true"></i>
                </button>
                <button id="settings-button" aria-label="Settings">
                    <i class="fa fa-cog" aria-hidden="true"></i>
                </button>
                <button id="minimize-button" aria-label="Minimize">
                    <i class="fa fa-minus" aria-hidden="true"></i>
                </button>
            </div>
        </div>
        
        <div class="conversation-area" id="conversation-area">
            <div class="welcome-message">
                <h3>How can I help you today?</h3>
                <p>You can ask me questions about course content, get learning assistance, or help navigating the platform.</p>
            </div>
            <!-- Messages will be dynamically inserted here -->
        </div>
        
        <div class="input-area">
            <input type="text" class="text-input" id="text-input" placeholder="Type your message...">
            <button class="voice-recording-button" id="voice-recording-button" aria-label="Record Voice">
                <i class="fa fa-microphone" aria-hidden="true"></i>
            </button>
            <button class="send-button" id="send-button" aria-label="Send Message">
                <i class="fa fa-paper-plane" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <!-- Settings panel (initially hidden) -->
    <div class="voice-assistant-panel settings-panel hidden" id="settings-panel">
        <div class="panel-header">
            <div class="panel-title">Assistant Settings</div>
            <div class="panel-controls">
                <button id="close-settings-button" aria-label="Close Settings">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
        </div>
        
        <div class="settings-container">
            <div class="settings-group">
                <h3>Voice Options</h3>
                
                <div class="settings-item">
                    <label class="settings-label" for="voice-select">Assistant Voice</label>
                    <select id="voice-select" class="settings-select">
                        <option value="alloy">Alloy (Balanced)</option>
                        <option value="echo">Echo (Deeper tone)</option>
                        <option value="fable">Fable (Soft-spoken)</option>
                        <option value="onyx">Onyx (Clear, precise)</option>
                        <option value="nova">Nova (Professional)</option>
                    </select>
                </div>
                
                <div class="settings-item">
                    <label class="settings-label" for="language-select">Language</label>
                    <select id="language-select" class="settings-select">
                        <option value="en-US">English (US)</option>
                        <option value="en-GB">English (UK)</option>
                        <option value="es-ES">Spanish</option>
                        <option value="fr-FR">French</option>
                        <option value="de-DE">German</option>
                        <option value="it-IT">Italian</option>
                        <option value="ja-JP">Japanese</option>
                        <option value="zh-CN">Chinese (Simplified)</option>
                    </select>
                </div>
            </div>
            
            <div class="settings-group">
                <h3>Speech Settings</h3>
                
                <div class="settings-item">
                    <label class="settings-label" for="speed-range">Speaking Rate</label>
                    <div class="range-container">
                        <input type="range" id="speed-range" class="settings-range" 
                               min="0.5" max="2.0" step="0.1" value="1.0">
                        <span class="range-value">1.0x</span>
                    </div>
                </div>
                
                <div class="settings-item">
                    <label class="settings-label" for="volume-range">Volume</label>
                    <div class="range-container">
                        <input type="range" id="volume-range" class="settings-range" 
                               min="0.1" max="1.0" step="0.1" value="1.0">
                        <span class="range-value">100%</span>
                    </div>
                </div>
            </div>
            
            <div class="settings-actions">
                <button class="settings-button settings-cancel" id="cancel-settings">Cancel</button>
                <button class="settings-button settings-save" id="save-settings">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- History panel (initially hidden) -->
    <div class="voice-assistant-panel history-panel hidden" id="history-panel">
        <div class="panel-header">
            <div class="panel-title">Conversation History</div>
            <div class="panel-controls">
                <button id="close-history-button" aria-label="Close History">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
        </div>
        
        <div class="history-container" id="history-container">
            <!-- History items will be dynamically added here -->
        </div>
    </div>
</div>
